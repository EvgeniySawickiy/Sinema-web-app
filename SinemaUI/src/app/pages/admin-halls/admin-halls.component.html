<div class="admin-halls">
  <h2>üèõ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ª–∞–º–∏</h2>

  <form [formGroup]="hallForm">
    <label>–ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–ª–∞:</label>
    <input type="text" formControlName="name" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∑–∞–ª–∞" />
    <div *ngIf="hallForm.get('name')?.invalid && hallForm.get('name')?.touched" class="error">
      –ù–∞–∑–≤–∞–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ.
    </div>

    <label>–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ—Å—Ç:</label>
    <input type="number" formControlName="totalSeats" (input)="updateSeatsPerRow()" />
    <div *ngIf="hallForm.get('totalSeats')?.invalid && hallForm.get('totalSeats')?.touched" class="error">
      –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ—Å—Ç –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –±–æ–ª—å—à–µ 0.
    </div>

    <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä—è–¥–æ–≤:</label>
    <input type="number" formControlName="numberOfRows" (input)="updateSeatsPerRow()" />
    <div *ngIf="hallForm.get('numberOfRows')?.invalid && hallForm.get('numberOfRows')?.touched" class="error">
      –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä—è–¥–æ–≤ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –±–æ–ª—å—à–µ 0.
    </div>

    <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ—Å—Ç –≤ –∫–∞–∂–¥–æ–º —Ä—è–¥—É:</label>
    <div formArrayName="seatsPerRow">
      <div *ngFor="let row of seatsPerRow.controls; let i = index">
        <input type="number" [formControlName]="i" placeholder="–†—è–¥ {{ i + 1 }}" />
      </div>
    </div>


    <div class="form-buttons">
      <button *ngIf="!isEditing" (click)="addHall()" [disabled]="hallForm.invalid">‚ûï –î–æ–±–∞–≤–∏—Ç—å –∑–∞–ª</button>
      <button *ngIf="isEditing" (click)="updateHall()" [disabled]="hallForm.invalid">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
      <button *ngIf="isEditing" (click)="cancelEdit()">‚ùå –û—Ç–º–µ–Ω–∞</button>
    </div>
  </form>

  <div class="halls-list">
    <h2>üìã –°–ø–∏—Å–æ–∫ –∑–∞–ª–æ–≤</h2>
    <div *ngIf="halls.length === 0" class="no-halls">–ó–∞–ª–æ–≤ –ø–æ–∫–∞ –Ω–µ—Ç.</div>

    <div *ngFor="let hall of halls" class="hall-card">
      <h3>üèõ {{ hall.name }}</h3>
      <p><strong>–û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ—Å—Ç:</strong> {{ hall.totalSeats }}</p>
      <p><strong>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä—è–¥–æ–≤:</strong> {{ getNumberOfRows(hall) }}</p>
      <p><strong>–ú–µ—Å—Ç–∞ –≤ —Ä—è–¥–∞—Ö:</strong> {{ getSeatsPerRow(hall) }}</p>

      <div class="buttons">
        <button class="edit-btn" (click)="editHall(hall)">‚úè –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
        <button class="delete-btn" (click)="deleteHall(hall.id)">üóë –£–¥–∞–ª–∏—Ç—å</button>
      </div>
    </div>
  </div>
</div>
